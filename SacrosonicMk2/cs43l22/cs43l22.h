#ifndef CS43L22_H_INCLUDED
#define CS43L22_H_INCLUDED

#include "cs43l22_i2c.h"
#include "cs43l22_i2s.h"
#include "misc.h"

// cs43l22 registers
#define CS43L22_REG_ID 0x1
#define CS43L22_REG_POWER_CTL1 0x2
#define CS43L22_REG_POWER_CTL2 0x4
#define CS43L22_REG_CLOCKING_CTL 0x5
#define CS43L22_REG_INTERFACE_CTL1 0x6
#define CS43L22_REG_INTERFACE_CTL2 0x7
#define CS43L22_REG_PASSTRHOUGH_A_SELECT 0x8
#define CS43L22_REG_PASSTRHOUGH_B_SELECT 0x9
#define CS43L22_REG_ANALOG_SET 0x0A
#define CS43L22_REG_PASSTHROUGH_GANG_CTRL 0x0C
#define CS43L22_REG_PLAYBACK_CTRL1 0x0D
#define CS43L22_REG_MISC_CTRL 0x0E
#define CS43L22_REG_PLAYBACK_CTRL2 0x0F
#define CS43L22_REG_PASSTHROUGH_A_VOL 0x14
#define CS43L22_REG_PASSTHROUGH_B_VOL 0x15
#define CS43L22_REG_PCMA_VOL 0x1A
#define CS43L22_REG_PCMB_VOL 0x1B
#define CS43L22_REG_BEEP_FREQ_ONTIME 0x1C
#define CS43L22_REG_BEEP_VOL_OFFTIME 0x1D
#define CS43L22_REG_BEEP_TONE_CFG 0x1E
#define CS43L22_REG_TONE_CTRL 0x1F
#define CS43L22_REG_MASTER_A_VOL 0x20
#define CS43L22_REG_MASTER_B_VOL 0x21
#define CS43L22_REG_HP_A_VOL 0x22
#define CS43L22_REG_HP_B_VOL 0x23
#define CS43L22_REG_SPEAK_A_VOL 0x24
#define CS43L22_REG_SPEAK_B_VOL 0x25
#define CS43L22_REG_CH_MIX_SWAP 0x26
#define CS43L22_REG_LIMIT_CTRL1 0x27
#define CS43L22_REG_LIMIT_CTRL2 0x28
#define CS43L22_REG_LIMIT_ATTACK 0x29
#define CS43L22_REG_OVFL_CLK_STATUS 0x2E
#define CS43L22_REG_BATT_COMP 0x2F
#define CS43L22_REG_VP_BATT_LEVEL 0x30
#define CS43L22_REG_SPEAK_STATUS 0x31
#define CS43L22_REG_CHARGE_PUMP_FREQ 0x34

#define CS43L22_SAMPLE_RATE 48000

void cs43l22_initResetPin();
void cs43l22_init();
void cs43l22_initInterrupt();
void cs43l22_enableInterrupt();
void cs43l22_disableInterrupt();

void cs43l22_outputSample(int16_t sample);
int cs43l22_attemptOutputSample(int16_t sample);

void cs43l22_powerOn();
void cs43l22_powerOff();





#endif /* CS43L22_H_INCLUDED */
